<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ุณูุฉ ุงููุดุชุฑูุงุช</title>

<style>
body { font-family: Arial; background:#f5f5f5; }
.container {
    max-width:500px;
    margin:30px auto;
    background:white;
    padding:20px;
    border-radius:12px;
    box-shadow:0 4px 15px rgba(0,0,0,0.1);
}
h2 { text-align:center; }
select,input,button {
    width:100%;
    padding:10px;
    margin-top:10px;
    border-radius:8px;
    border:1px solid #ccc;
}
button {
    background:green;
    color:white;
    border:none;
    font-weight:bold;
}
.total { font-weight:bold; margin-top:10px; }
</style>
</head>

<body>

<div class="container">

<h2>๐ ุณูุฉ ุงููุดุชุฑูุงุช</h2>

<div id="cartItems"></div>

<p class="total">ุฅุฌูุงูู ุงูููุชุฌุงุช: <span id="productsTotal">0</span> ุฌููู</p>

<label>ุงุฎุชุฑ ููุทูุชู ุฏุงุฎู ูุฏููุฉ ูุตุฑ:</label>
<select id="area">
<option value="">-- ุงุฎุชุฑ ุงูููุทูุฉ --</option>

<!-- 40 ุฌููู -->
<option value="40">ุงูุญู ุงูุณุงุฏุณ (40)</option>
<option value="40">ุฌุงุฑุฏูููุง (40)</option>
<option value="40">ููุณู ุนุจุงุณ (40)</option>
<option value="40">ุชุงุฌ ุณูุชู (40)</option>
<option value="40">ุชุงุฌ ุณูุทุงู (40)</option>
<option value="40">ุทุฑูู ุงููุตุฑ (40)</option>

<!-- 30 ุฌููู -->
<option value="30">ุฐุงูุฑ ุญุณูู (30)</option>
<option value="30">ุงูููุซุงู (30)</option>
<option value="30">ุดุงุฑุน ุงูุทุงูุฉ (30)</option>
<option value="30">ูุณุงูู ุงูุดุฑูู (30)</option>
<option value="30">ุงููุงุฏู ุงูุฃููู (30)</option>
<option value="30">ุญุณู ุงููุฃููู (30)</option>
<option value="30">ุญุงูุธ ุฑูุถุงู (30)</option>
<option value="30">ุงูุญู ุงูุณุงุจุน (30)</option>
<option value="30">ุญู ุงูุณูุงุฑุงุช (30)</option>
<option value="30">ุงูุญู ุงูุซุงูู (30)</option>
<option value="30">ุงูููุทูุฉ ุงูุชุงุณุนุฉ (30)</option>
<option value="30">ุฒูุฑุงุก ูุฏููุฉ ูุตุฑ (30)</option>

<!-- 20 ุฌููู -->
<option value="20">ุตูุฑ ูุฑูุด (20)</option>
<option value="20">ุนูุงุฑุงุช ุฃุทูุณ (20)</option>
<option value="20">ุงูููุทูุฉ ุงูุนุงุดุฑุฉ (20)</option>
<option value="20">ุฃุญูุฏ ุงูุฒูุฑ (20)</option>

</select>

<p class="total">ุฎุฏูุฉ ุงูุชูุตูู: <span id="deliveryFee">0</span> ุฌููู</p>
<p class="total">ุงูุฅุฌูุงูู ุงูููุงุฆู: <span id="finalTotal">0</span> ุฌููู</p>

<hr>

<input type="text" id="name" placeholder="ุงูุงุณู">
<input type="tel" id="phone" placeholder="ุฑูู ุงููุงุชู">
<input type="text" id="address" placeholder="ุงูุนููุงู ุจุงูุชูุตูู">

<button onclick="sendOrder()">ุฅุฑุณุงู ุงูุทูุจ</button>
<button onclick="clearCart()">ูุณุญ ุงูุณูุฉ</button>

</div>

<script>

let cart = JSON.parse(localStorage.getItem("cart")) || [];
let cartDiv = document.getElementById("cartItems");
let total = 0;

cart.forEach(item => {
    let p = document.createElement("p");
    p.innerText = item.name + " ร " + item.quantity + " = " + (item.price * item.quantity) + " ุฌููู";
    cartDiv.appendChild(p);
    total += item.price * item.quantity;
});

document.getElementById("productsTotal").innerText = total;

let area = document.getElementById("area");
let deliverySpan = document.getElementById("deliveryFee");
let finalSpan = document.getElementById("finalTotal");

let delivery = 0;

area.addEventListener("change", function(){
    delivery = parseInt(this.value) || 0;
    deliverySpan.innerText = delivery;
    finalSpan.innerText = total + delivery;
});

function sendOrder(){

    let name = document.getElementById("name").value.trim();
    let phone = document.getElementById("phone").value.trim();
    let address = document.getElementById("address").value.trim();

    if(!name || !phone || !address){
        alert("ูู ูุถูู ุงููู ูู ุงูุจูุงูุงุช");
        return;
    }

    if(area.value === ""){
        alert("ูู ูุถูู ุงุฎุชุฑ ุงูููุทูุฉ");
        return;
    }

    if(cart.length === 0){
        alert("ุงูุณูุฉ ูุงุถูุฉ");
        return;
    }

    let finalTotal = total + delivery;
    let selectedArea = area.options[area.selectedIndex].text;

    let itemsText = "";
    cart.forEach(item=>{
        itemsText += item.name + " ร " + item.quantity + "\n";
    });

    let message =
    "ุทูุจ ุฌุฏูุฏ:\n\n" +
    itemsText + "\n" +
    "ุงูุงุณู: " + name + "\n" +
    "ุงููุงุชู: " + phone + "\n" +
    "ุงูุนููุงู: " + address + "\n" +
    "ุงูููุทูุฉ: " + selectedArea + "\n\n" +
    "ุฅุฌูุงูู ุงูููุชุฌุงุช: " + total + " ุฌููู\n" +
    "ุงูุชูุตูู: " + delivery + " ุฌููู\n" +
    "ุงูุฅุฌูุงูู ุงูููุงุฆู: " + finalTotal + " ุฌููู";

    let url = "https://wa.me/201551489292?text=" + encodeURIComponent(message);
    window.open(url, "_blank");
}

function clearCart(){
    localStorage.removeItem("cart");
    location.reload();
}

</script>

</body>
</html>
