<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªØ³Ø§Ù„ÙŠ - Ø³Ù„Ø© Ù…Ø§Ø±ÙƒØª</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ù…Ø¹ Ø§Ù„Ø³Ù„Ø© -->
<header>
    <h1>ØªØ³Ø§Ù„ÙŠ</h1>
    <div class="cart-icon" onclick="goToCart()">ğŸ›’ <span id="cart-count-header">0</span></div>
</header>

<!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
<div class="container">

  <div class="card">
    <img src="chips.jpg" alt="Ø±Ù‚Ø§Ø¦Ù‚">
    <h3>Ø±Ù‚Ø§Ø¦Ù‚</h3>
    <div class="quantity">
      <button onclick="decreaseQty(this)">-</button>
      <span>1</span>
      <button onclick="increaseQty(this)">+</button>
    </div>
    <button onclick="addToCart('Ø±Ù‚Ø§Ø¦Ù‚', 10, this)">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
  </div>

  <div class="card">
    <img src="chocolate.jpg" alt="Ø´ÙŠÙƒÙˆÙ„Ø§ØªØ©">
    <h3>Ø´ÙŠÙƒÙˆÙ„Ø§ØªØ©</h3>
    <div class="quantity">
      <button onclick="decreaseQty(this)">-</button>
      <span>1</span>
      <button onclick="increaseQty(this)">+</button>
    </div>
    <button onclick="addToCart('Ø´ÙŠÙƒÙˆÙ„Ø§ØªØ©', 15, this)">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
  </div>

  <div class="card">
    <img src="cookies.jpg" alt="ÙƒÙˆÙƒÙŠØ²">
    <h3>ÙƒÙˆÙƒÙŠØ²</h3>
    <div class="quantity">
      <button onclick="decreaseQty(this)">-</button>
      <span>1</span>
      <button onclick="increaseQty(this)">+</button>
    </div>
    <button onclick="addToCart('ÙƒÙˆÙƒÙŠØ²', 12, this)">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
  </div>

  <div class="card">
    <img src="nuts.jpg" alt="Ù…ÙƒØ³Ø±Ø§Øª">
    <h3>Ù…ÙƒØ³Ø±Ø§Øª</h3>
    <div class="quantity">
      <button onclick="decreaseQty(this)">-</button>
      <span>1</span>
      <button onclick="increaseQty(this)">+</button>
    </div>
    <button onclick="addToCart('Ù…ÙƒØ³Ø±Ø§Øª', 20, this)">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
  </div>

</div>

<!-- Ø§Ù„ØªÙˆØ³Øª -->
<div id="toast"></div>

<!-- JS Ø§Ù„Ø³Ù„Ø© -->
<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];

function goToCart(){ window.location.href='cart.html'; }
function increaseQty(el){ let span=el.parentElement.querySelector('span'); span.innerText=parseInt(span.innerText)+1; }
function decreaseQty(el){ let span=el.parentElement.querySelector('span'); if(parseInt(span.innerText)>1) span.innerText=parseInt(span.innerText)-1; }

function showToast(message){
    let toast = document.getElementById("toast");
    toast.innerText = message;
    toast.className = "show";
    setTimeout(()=>{ toast.className = ""; },2300);
}

function addToCart(name, price, btn){
    let qty=parseInt(btn.previousElementSibling.querySelector('span').innerText);
    if(isNaN(qty)||qty<1) qty=1;
    let index=cart.findIndex(p=>p.name===name);
    if(index!==-1){cart[index].qty+=qty;}else{cart.push({name:name,price:price,qty:qty});}
    localStorage.setItem('cart',JSON.stringify(cart));
    updateCartHeader();
    showToast(name+" ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ø³Ù„Ø© ("+qty+")");
}

function updateCartHeader(){let total=0;cart.forEach(p=>total+=p.qty);document.getElementById('cart-count-header').innerText=total;}
updateCartHeader();
</script>

</body>
</html>
